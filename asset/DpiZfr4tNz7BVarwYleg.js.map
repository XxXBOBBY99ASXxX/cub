{"version":3,"file":"DpiZfr4tNz7BVarwYleg.js","sources":["../../src/stores/RoleStore.ts"],"sourcesContent":["import type { Snowflake } from \"@spacebarchat/spacebar-api-types/globals\";\nimport type { APIRole } from \"@spacebarchat/spacebar-api-types/v9\";\nimport { action, computed, makeObservable, observable, ObservableMap } from \"mobx\";\nimport AppStore from \"./AppStore\";\nimport Role from \"./objects/Role\";\n\nexport default class RoleStore {\n\tprivate readonly app: AppStore;\n\t@observable private readonly roles = new ObservableMap<Snowflake, Role>();\n\n\tconstructor(app: AppStore) {\n\t\tthis.app = app;\n\n\t\tmakeObservable(this);\n\t}\n\n\t@action\n\tadd(role: APIRole) {\n\t\tthis.roles.set(role.id, new Role(this.app, role));\n\t}\n\n\t@action\n\taddAll(roles: APIRole[]) {\n\t\troles.forEach((role) => this.add(role));\n\t}\n\n\t@computed\n\tget all() {\n\t\treturn Array.from(this.roles.values());\n\t}\n\n\t@action\n\tremove(id: Snowflake) {\n\t\tthis.roles.delete(id);\n\t}\n\n\t@action\n\tupdate(role: APIRole) {\n\t\tthis.roles.get(role.id)?.update(role);\n\t}\n\n\tget(id: Snowflake) {\n\t\treturn this.roles.get(id);\n\t}\n\n\thas(id: Snowflake) {\n\t\treturn this.roles.has(id);\n\t}\n\n\tasList() {\n\t\treturn Array.from(this.roles.values());\n\t}\n\n\tget size() {\n\t\treturn this.roles.size;\n\t}\n}\n"],"names":["RoleStore","app","__publicField","ObservableMap","makeObservable","role","Role","roles","id","_a","__decorateClass","observable","action","computed"],"mappings":"qeAMA,MAAqBA,CAAU,CAI9B,YAAYC,EAAe,CAHVC,EAAA,YACYA,EAAA,aAAQ,IAAIC,GAGxC,KAAK,IAAMF,EAEXG,EAAe,IAAI,CACpB,CAGA,IAAIC,EAAe,CACb,KAAA,MAAM,IAAIA,EAAK,GAAI,IAAIC,EAAK,KAAK,IAAKD,CAAI,CAAC,CACjD,CAGA,OAAOE,EAAkB,CACxBA,EAAM,QAASF,GAAS,KAAK,IAAIA,CAAI,CAAC,CACvC,CAGA,IAAI,KAAM,CACT,OAAO,MAAM,KAAK,KAAK,MAAM,OAAQ,CAAA,CACtC,CAGA,OAAOG,EAAe,CAChB,KAAA,MAAM,OAAOA,CAAE,CACrB,CAGA,OAAOH,EAAe,QACrBI,EAAA,KAAK,MAAM,IAAIJ,EAAK,EAAE,IAAtB,MAAAI,EAAyB,OAAOJ,EACjC,CAEA,IAAIG,EAAe,CACX,OAAA,KAAK,MAAM,IAAIA,CAAE,CACzB,CAEA,IAAIA,EAAe,CACX,OAAA,KAAK,MAAM,IAAIA,CAAE,CACzB,CAEA,QAAS,CACR,OAAO,MAAM,KAAK,KAAK,MAAM,OAAQ,CAAA,CACtC,CAEA,IAAI,MAAO,CACV,OAAO,KAAK,MAAM,IACnB,CACD,CAhD8BE,EAAA,CAA5BC,CAAA,EAFmBX,EAES,UAAA,QAAA,CAAA,EAS7BU,EAAA,CADCE,CAAA,EAVmBZ,EAWpB,UAAA,MAAA,CAAA,EAKAU,EAAA,CADCE,CAAA,EAfmBZ,EAgBpB,UAAA,SAAA,CAAA,EAKIU,EAAA,CADHG,CAAA,EApBmBb,EAqBhB,UAAA,MAAA,CAAA,EAKJU,EAAA,CADCE,CAAA,EAzBmBZ,EA0BpB,UAAA,SAAA,CAAA,EAKAU,EAAA,CADCE,CAAA,EA9BmBZ,EA+BpB,UAAA,SAAA,CAAA"}