var d=Object.defineProperty;var c=(t,e,r)=>e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var l=(t,e,r)=>(c(t,typeof e!="symbol"?e+"":e,r),r);import{ai as f,aj as u,ak as h,aG as g,aa as v}from"./DEYDuN7xp-m3cL830AkD.js";import{u as y}from"./DMCex30FeWvvThtDj-pY.js";import{U as m}from"./DppZeSGQJKDChd7knPjq.js";var b=Object.defineProperty,w=Object.getOwnPropertyDescriptor,s=(t,e,r,a)=>{for(var p=a>1?void 0:a?w(e,r):e,i=t.length-1,n;i>=0;i--)(n=t[i])&&(p=(a?n(e,r,p):n(p))||p);return a&&p&&b(e,r,p),p};class o{constructor(e){l(this,"logger",y("UserStore"));l(this,"users",new g);this.app=e}add(e){const r=new m(e);return this.users.set(e.id,r),r}addAll(e){e.forEach(r=>this.add(r))}update(e){var r;(r=this.users.get(e.id))==null||r.update(e)}get(e){return this.users.get(e)}get all(){return Array.from(this.users.values())}get count(){return this.users.size}has(e){return this.users.has(e)}async resolve(e,r=!1){if(this.has(e)&&!r)return this.get(e);const a=await this.app.rest.get(v.user(e));if(a)return this.add(a)}}s([f],o.prototype,"users",2);s([u],o.prototype,"add",1);s([u],o.prototype,"addAll",1);s([u],o.prototype,"update",1);s([u],o.prototype,"get",1);s([h],o.prototype,"all",1);s([h],o.prototype,"count",1);s([u],o.prototype,"resolve",1);export{o as U};
//# sourceMappingURL=DUVtXp1jGqBQadfL73WF.js.map
