{"version":3,"file":"EyOlXjuXiTO5rBXNy6TD.js","sources":["../../src/components/contextMenus/UserContextMenu.tsx"],"sourcesContent":["// loosely based on https://github.com/revoltchat/frontend/blob/master/components/app/menus/UserContextMenu.tsx\n\nimport { modalController } from \"../../controllers/modals\";\nimport { useAppStore } from \"../../stores/AppStore\";\nimport GuildMember from \"../../stores/objects/GuildMember\";\nimport User from \"../../stores/objects/User\";\nimport { ContextMenu, ContextMenuButton, ContextMenuDivider } from \"./ContextMenu\";\n\ninterface MenuProps {\n\tuser: User;\n\tmember?: GuildMember;\n}\n\nfunction UserContextMenu({ user, member }: MenuProps) {\n\tconst app = useAppStore();\n\tconst guild = member ? app.guilds.get(member.guild.id) : undefined;\n\tconst guildMe = guild ? guild.members.get(app.account!.id) : undefined;\n\n\t/**\n\t * Copy user id to clipboard\n\t */\n\tfunction copyId() {\n\t\tnavigator.clipboard.writeText(user.id);\n\t}\n\n\t/**\n\t * Open kick modal\n\t */\n\tfunction kick() {\n\t\tif (!member) return;\n\t\tmodalController.push({\n\t\t\ttype: \"kick_member\",\n\t\t\ttarget: member,\n\t\t});\n\t}\n\n\t/**\n\t * Open ban modal\n\t */\n\tfunction ban() {\n\t\tif (!member) return;\n\t\tmodalController.push({\n\t\t\ttype: \"ban_member\",\n\t\t\ttarget: member,\n\t\t});\n\t}\n\n\treturn (\n\t\t<ContextMenu>\n\t\t\t<ContextMenuButton disabled>Profile</ContextMenuButton>\n\t\t\t<ContextMenuButton disabled>Mention</ContextMenuButton>\n\t\t\t<ContextMenuButton disabled>Message</ContextMenuButton>\n\t\t\t<ContextMenuDivider />\n\t\t\t{member && <ContextMenuButton disabled>Change Nickname</ContextMenuButton>}\n\t\t\t<ContextMenuButton disabled>Add Friend</ContextMenuButton>\n\t\t\t<ContextMenuButton disabled>Block</ContextMenuButton>\n\t\t\t<ContextMenuDivider />\n\t\t\t{member && guildMe && (\n\t\t\t\t<>\n\t\t\t\t\t{guildMe.hasPermission(\"KICK_MEMBERS\") && (\n\t\t\t\t\t\t<ContextMenuButton destructive onClick={kick}>\n\t\t\t\t\t\t\tKick {member?.nick ?? user.username}\n\t\t\t\t\t\t</ContextMenuButton>\n\t\t\t\t\t)}\n\t\t\t\t\t{guildMe.hasPermission(\"BAN_MEMBERS\") && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ContextMenuButton destructive onClick={ban}>\n\t\t\t\t\t\t\t\tBan {member?.nick ?? user.username}\n\t\t\t\t\t\t\t</ContextMenuButton>\n\t\t\t\t\t\t\t<ContextMenuDivider />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{guildMe.hasPermission(\"MANAGE_ROLES\") && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ContextMenuButton disabled icon=\"mdiChevronRight\">\n\t\t\t\t\t\t\t\tRoles\n\t\t\t\t\t\t\t</ContextMenuButton>\n\t\t\t\t\t\t\t<ContextMenuDivider />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t<ContextMenuButton\n\t\t\t\ticon=\"mdiIdentifier\"\n\t\t\t\ticonProps={{\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tfilter: \"invert(100%)\",\n\t\t\t\t\t\tbackground: \"black\",\n\t\t\t\t\t\tborderRadius: \"4px\",\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tonClick={copyId}\n\t\t\t>\n\t\t\t\tCopy User ID\n\t\t\t</ContextMenuButton>\n\t\t</ContextMenu>\n\t);\n}\n\nexport default UserContextMenu;\n"],"names":["UserContextMenu","user","member","app","useAppStore","guild","guildMe","copyId","kick","modalController","ban","ContextMenu","jsx","ContextMenuButton","ContextMenuDivider","jsxs","Fragment"],"mappings":"wOAaA,SAASA,EAAgB,CAAE,KAAAC,EAAM,OAAAC,GAAqB,CACrD,MAAMC,EAAMC,IACNC,EAAQH,EAASC,EAAI,OAAO,IAAID,EAAO,MAAM,EAAE,EAAI,OACnDI,EAAUD,EAAQA,EAAM,QAAQ,IAAIF,EAAI,QAAS,EAAE,EAAI,OAK7D,SAASI,GAAS,CACP,UAAA,UAAU,UAAUN,EAAK,EAAE,CACtC,CAKA,SAASO,GAAO,CACVN,GACLO,EAAgB,KAAK,CACpB,KAAM,cACN,OAAQP,CAAA,CACR,CACF,CAKA,SAASQ,GAAM,CACTR,GACLO,EAAgB,KAAK,CACpB,KAAM,aACN,OAAQP,CAAA,CACR,CACF,CAEA,cACES,EACA,CAAA,SAAA,CAACC,EAAA,IAAAC,EAAA,CAAkB,SAAQ,GAAC,SAAO,UAAA,EAClCD,EAAA,IAAAC,EAAA,CAAkB,SAAQ,GAAC,SAAO,UAAA,EAClCD,EAAA,IAAAC,EAAA,CAAkB,SAAQ,GAAC,SAAO,UAAA,QAClCC,EAAmB,EAAA,EACnBZ,GAAUU,EAAA,IAACC,EAAkB,CAAA,SAAQ,GAAC,SAAe,kBAAA,EACrDD,EAAA,IAAAC,EAAA,CAAkB,SAAQ,GAAC,SAAU,aAAA,EACrCD,EAAA,IAAAC,EAAA,CAAkB,SAAQ,GAAC,SAAK,QAAA,QAChCC,EAAmB,EAAA,EACnBZ,GAAUI,GAERS,EAAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,CAAQV,EAAA,cAAc,cAAc,GACpCS,OAACF,GAAkB,YAAW,GAAC,QAASL,EAAM,SAAA,CAAA,SACvCN,GAAA,YAAAA,EAAQ,OAAQD,EAAK,QAAA,EAC5B,EAEAK,EAAQ,cAAc,aAAa,GAElCS,EAAAA,KAAAC,EAAAA,SAAA,CAAA,SAAA,CAAAD,EAAA,KAACF,EAAkB,CAAA,YAAW,GAAC,QAASH,EAAK,SAAA,CAAA,QACvCR,GAAA,YAAAA,EAAQ,OAAQD,EAAK,QAAA,EAC3B,QACCa,EAAmB,EAAA,CAAA,EACrB,EAEAR,EAAQ,cAAc,cAAc,GAEnCS,EAAAA,KAAAC,EAAAA,SAAA,CAAA,SAAA,CAAAJ,MAACC,EAAkB,CAAA,SAAQ,GAAC,KAAK,kBAAkB,SAEnD,QAAA,QACCC,EAAmB,EAAA,CAAA,EACrB,CAAA,EAEF,EAGDF,EAAA,IAACC,EAAA,CACA,KAAK,gBACL,UAAW,CACV,MAAO,CACN,OAAQ,eACR,WAAY,QACZ,aAAc,KACf,CACD,EACA,QAASN,EACT,SAAA,cAAA,CAED,CACD,CAAA,CAAA,CAEF"}