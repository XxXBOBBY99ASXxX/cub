{"version":3,"file":"DaR5CRO4DOjdQBIlmcQG.js","sources":["../../src/utils/Message.ts"],"sourcesContent":["export function calculateImageRatio(width: number, height: number, maxWidth?: number, maxHeight?: number) {\n\tconst mw = maxWidth ?? 400;\n\tconst mh = maxHeight ?? 300;\n\n\tlet o = 1;\n\twidth > mw && (o = mw / width);\n\twidth = Math.round(width * o);\n\tlet a = 1;\n\t(height = Math.round(height * o)) > mh && (a = mh / height);\n\treturn Math.min(o * a, 1);\n}\n\nexport function calculateScaledDimensions(\n\toriginalWidth: number,\n\toriginalHeight: number,\n\tratio: number,\n\tmaxWidth?: number,\n\tmaxHeight?: number,\n): { scaledWidth: number; scaledHeight: number } {\n\tconst mw = maxWidth ?? 400;\n\tconst mh = maxHeight ?? 300;\n\n\tconst deviceResolution = window.devicePixelRatio ?? 1;\n\tlet scaledWidth = originalWidth;\n\tlet scaledHeight = originalHeight;\n\n\tif (ratio < 1) {\n\t\tscaledWidth = Math.round(originalWidth * ratio);\n\t\tscaledHeight = Math.round(originalHeight * ratio);\n\t}\n\n\tscaledWidth = Math.min(scaledWidth, mw);\n\tscaledHeight = Math.min(scaledHeight, mh);\n\n\tif (scaledWidth !== originalWidth || scaledHeight !== originalHeight) {\n\t\tscaledWidth |= 0;\n\t\tscaledHeight |= 0;\n\t}\n\n\tscaledWidth *= deviceResolution;\n\tscaledHeight *= deviceResolution;\n\n\treturn { scaledWidth, scaledHeight };\n}\n"],"names":["calculateImageRatio","width","height","maxWidth","maxHeight","mw","mh","o","a","calculateScaledDimensions","originalWidth","originalHeight","ratio","deviceResolution","scaledWidth","scaledHeight"],"mappings":"AAAO,SAASA,EAAoBC,EAAeC,EAAgBC,EAAmBC,EAAoB,CACzG,MAAMC,EAAKF,GAAY,IACjBG,EAAKF,GAAa,IAExB,IAAIG,EAAI,EACAN,EAAAI,IAAOE,EAAIF,EAAKJ,GAChBA,EAAA,KAAK,MAAMA,EAAQM,CAAC,EAC5B,IAAIC,EAAI,EACP,OAAAN,EAAS,KAAK,MAAMA,EAASK,CAAC,GAAKD,IAAOE,EAAIF,EAAKJ,GAC7C,KAAK,IAAIK,EAAIC,EAAG,CAAC,CACzB,CAEO,SAASC,EACfC,EACAC,EACAC,EACAT,EACAC,EACgD,CAChD,MAAMC,EAAKF,GAAY,IACjBG,EAAKF,GAAa,IAElBS,EAAmB,OAAO,kBAAoB,EACpD,IAAIC,EAAcJ,EACdK,EAAeJ,EAEnB,OAAIC,EAAQ,IACGE,EAAA,KAAK,MAAMJ,EAAgBE,CAAK,EAC/BG,EAAA,KAAK,MAAMJ,EAAiBC,CAAK,GAGnCE,EAAA,KAAK,IAAIA,EAAaT,CAAE,EACvBU,EAAA,KAAK,IAAIA,EAAcT,CAAE,GAEpCQ,IAAgBJ,GAAiBK,IAAiBJ,KACtCG,GAAA,EACCC,GAAA,GAGFD,GAAAD,EACCE,GAAAF,EAET,CAAE,YAAAC,EAAa,aAAAC,EACvB"}