var c=Object.defineProperty;var d=(t,e,s)=>e in t?c(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var g=(t,e,s)=>(d(t,typeof e!="symbol"?e+"":e,s),s);import{ai as u,aj as i,ak as h,aE as f}from"./DEYDuN7xp-m3cL830AkD.js";import{a as v,Q as l}from"./C7AdNpG04zPgyWSsjdGo.js";var _=Object.defineProperty,y=Object.getOwnPropertyDescriptor,o=(t,e,s,a)=>{for(var r=a>1?void 0:a?y(e,s):e,p=t.length-1,m;p>=0;p--)(m=t[p])&&(r=(a?m(e,s,r):m(r))||r);return a&&r&&_(e,s,r),r};class n{constructor(e){g(this,"messages");this.app=e,this.messages=u.array([]),f(this)}add(e){const s=new v(this.app,e);return this.messages.push(s),s}remove(e){const s=this.messages.find(a=>a.id===e);this.messages.remove(s)}send(e){const s=this.messages.find(a=>a.id===e);s.status=l.SENDING}get(e){return this.messages.filter(s=>s.channel_id===e)}handleIncomingMessage(e){e.nonce&&this.get(e.channel_id).find(s=>s.id===e.nonce)&&this.remove(e.nonce.toString())}}o([u],n.prototype,"messages",2);o([i],n.prototype,"add",1);o([i],n.prototype,"remove",1);o([i],n.prototype,"send",1);o([h],n.prototype,"get",1);o([i],n.prototype,"handleIncomingMessage",1);export{n as M};
//# sourceMappingURL=Bv5OUfH2nJ_uW9XDeAPL.js.map
