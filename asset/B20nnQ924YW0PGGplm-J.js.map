{"version":3,"file":"B20nnQ924YW0PGGplm-J.js","sources":["../../src/stores/GuildStore.ts"],"sourcesContent":["import type { GatewayGuild } from \"@spacebarchat/spacebar-api-types/v9\";\nimport { action, computed, observable, ObservableMap } from \"mobx\";\nimport Logger from \"../utils/Logger\";\nimport AppStore from \"./AppStore\";\nimport Guild from \"./objects/Guild\";\n\nexport default class GuildStore {\n\tprivate readonly logger: Logger = new Logger(\"GuildStore\");\n\tprivate readonly app: AppStore;\n\t@observable initialGuildsLoaded = false;\n\t@observable readonly guilds = new ObservableMap<string, Guild>();\n\n\tconstructor(app: AppStore) {\n\t\tthis.app = app;\n\t}\n\n\t@action\n\tsetInitialGuildsLoaded() {\n\t\tthis.initialGuildsLoaded = true;\n\t\tthis.logger.debug(\"Initial guilds loaded\");\n\t}\n\n\t@action\n\tadd(guild: GatewayGuild) {\n\t\tthis.guilds.set(guild.id, new Guild(this.app, guild));\n\t}\n\n\t@action\n\taddAll(guilds: GatewayGuild[]) {\n\t\tguilds.forEach((guild) => this.add(guild));\n\t}\n\n\tget(id: string) {\n\t\treturn this.guilds.get(id);\n\t}\n\n\t@computed\n\tget all() {\n\t\treturn Array.from(this.guilds.values());\n\t}\n\n\t@action\n\tremove(id: string) {\n\t\tthis.guilds.delete(id);\n\t}\n\n\t@computed\n\tget count() {\n\t\treturn this.guilds.size;\n\t}\n}\n"],"names":["GuildStore","app","__publicField","Logger","ObservableMap","guild","Guild","guilds","id","__decorateClass","observable","action","computed"],"mappings":"2gBAMA,MAAqBA,CAAW,CAM/B,YAAYC,EAAe,CALVC,EAAA,cAAiB,IAAIC,EAAO,YAAY,GACxCD,EAAA,YACLA,EAAA,2BAAsB,IACbA,EAAA,cAAS,IAAIE,GAGjC,KAAK,IAAMH,CACZ,CAGA,wBAAyB,CACxB,KAAK,oBAAsB,GACtB,KAAA,OAAO,MAAM,uBAAuB,CAC1C,CAGA,IAAII,EAAqB,CACnB,KAAA,OAAO,IAAIA,EAAM,GAAI,IAAIC,EAAM,KAAK,IAAKD,CAAK,CAAC,CACrD,CAGA,OAAOE,EAAwB,CAC9BA,EAAO,QAASF,GAAU,KAAK,IAAIA,CAAK,CAAC,CAC1C,CAEA,IAAIG,EAAY,CACR,OAAA,KAAK,OAAO,IAAIA,CAAE,CAC1B,CAGA,IAAI,KAAM,CACT,OAAO,MAAM,KAAK,KAAK,OAAO,OAAQ,CAAA,CACvC,CAGA,OAAOA,EAAY,CACb,KAAA,OAAO,OAAOA,CAAE,CACtB,CAGA,IAAI,OAAQ,CACX,OAAO,KAAK,OAAO,IACpB,CACD,CAzCaC,EAAA,CAAXC,CAAA,EAHmBV,EAGR,UAAA,sBAAA,CAAA,EACSS,EAAA,CAApBC,CAAA,EAJmBV,EAIC,UAAA,SAAA,CAAA,EAOrBS,EAAA,CADCE,CAAA,EAVmBX,EAWpB,UAAA,yBAAA,CAAA,EAMAS,EAAA,CADCE,CAAA,EAhBmBX,EAiBpB,UAAA,MAAA,CAAA,EAKAS,EAAA,CADCE,CAAA,EArBmBX,EAsBpB,UAAA,SAAA,CAAA,EASIS,EAAA,CADHG,CAAA,EA9BmBZ,EA+BhB,UAAA,MAAA,CAAA,EAKJS,EAAA,CADCE,CAAA,EAnCmBX,EAoCpB,UAAA,SAAA,CAAA,EAKIS,EAAA,CADHG,CAAA,EAxCmBZ,EAyChB,UAAA,QAAA,CAAA"}