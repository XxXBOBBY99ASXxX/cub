import{Z as c,j as r}from"./DEYDuN7xp-m3cL830AkD.js";import{m as _}from"./DlU01QiUEGHWpg_beOfr.js";import"./CFJNYz37NDnhYvpCku9W.js";import{I as g}from"./B94yhYbfBuA5NqzsiYEV.js";const h="_embed_11ip9_1",I="_embedGap_11ip9_5",v="_embedImage_11ip9_18",x="_website_11ip9_24",G="_embedProvider_11ip9_43",N="_embedAuthor_11ip9_49",T="_embedAuthorIcon_11ip9_55",k="_embedAuthorName_11ip9_63",w="_embedAuthorNameLink_11ip9_71",A="_embedTitle_11ip9_79",j="_embedTitleLink_11ip9_92",z="_embedDescription_11ip9_100",S="_embedFooter_11ip9_111",V="_embedFooterIcon_11ip9_117",B="_embedFooterText_11ip9_125",$="_embedFooterSeperator_11ip9_133",L="_embedFields_11ip9_139",C="_embedField_11ip9_139",D="_embedFieldName_11ip9_151",E="_embedFieldValue_11ip9_156",P="_embedThumbnail_11ip9_161",R="_image_11ip9_166",H="_embedGifIcon_11ip9_176",M="_embedGifIconBg_11ip9_182",d={embed:h,embedGap:I,embedImage:v,website:x,embedProvider:G,embedAuthor:N,embedAuthorIcon:T,embedAuthorName:k,embedAuthorNameLink:w,embedTitle:A,embedTitleLink:j,embedDescription:z,embedFooter:S,embedFooterIcon:V,embedFooterText:B,embedFooterSeperator:$,embedFields:L,embedField:C,embedFieldName:D,embedFieldValue:E,embedThumbnail:P,image:R,embedGifIcon:H,embedGifIconBg:M};function Z(e,t,o,a){const m=e/t;let s=e,n=t;return s>o&&(s=o,n=s/m),n>a&&(n=a,s=n*m),{width:Math.round(s),height:Math.round(n)}}function W(e,t,o,a){return e>o||t>a}function J({embed:e,width:t,height:o,thumbnail:a}){var p,b,f;let m=400,s=300;(!t||!o)&&(e.video?(t=e.video.width,o=e.video.height):e.image?(t=e.image.width,o=e.image.height):e.thumbnail?(e.type!==c.Image&&((p=e.provider)==null?void 0:p.name)!=="GitHub"&&(m=80,s=80),t=e.thumbnail.width,o=e.thumbnail.height):(console.log("No media size provided"),t=400,o=300));const n=t,F=o;if(W(t,o,m,s)){const{width:i,height:l}=Z(t,o,m,s);t=i,o=l}switch(console.log(`Original size: ${n}x${F} - Scaled size: ${t}x${o}`),(b=e.provider)==null?void 0:b.name){case"YouTube":{if(!((f=e.video)!=null&&f.url))return null;const i=e.video.url;return r.jsx("iframe",{loading:"lazy",src:i,allowFullScreen:!0,style:{height:o,width:t}})}case"Spotify":{const i=e.url;if(!i)break;const l=i.match(/https:\/\/open\.spotify\.com\/(track|album|playlist)\/([a-zA-Z0-9]+)/);if(!l)break;const u=l[1],y=l[2];return r.jsx("iframe",{style:{width:"400px",height:"80px",borderRadius:12},src:`https://open.spotify.com/embed/${u}/${y}`,frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"})}case"Soundcloud":return r.jsx("iframe",{src:`https://w.soundcloud.com/player/?url=${encodeURIComponent(e.url)}&color=%23FF7F50&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true`,frameBorder:"0",scrolling:"no",loading:"lazy",style:{height:o}});case"Streamable":{const i=e.url;if(!i)break;const l=i.match(/https:\/\/streamable\.com\/([a-zA-Z0-9]+)/);if(!l)break;const u=l[1];return r.jsx("iframe",{src:`https://streamable.com/e/${u}?quality=highest`,frameBorder:"0",allowFullScreen:!0,seamless:!0,loading:"lazy",style:{height:o}})}default:if(e.video&&!a){const i=e.video.url;return r.jsxs("div",{children:[r.jsx("video",{className:d.embedImage,style:{width:t,height:o},src:i,loop:e.type===c.GIFV,controls:e.type!==c.GIFV,autoPlay:e.type===c.GIFV,muted:e.type===c.GIFV?!0:void 0,onClick:()=>{_.push({type:"image_viewer",attachment:e.video,isVideo:!0})}}),e.type===c.GIFV&&r.jsxs("div",{children:[r.jsx("div",{className:d.embedGifIconBg}),r.jsx(g,{icon:"mdiFileGifBox",size:1,className:d.embedGifIcon})]})]})}else if(e.image&&!a){const i=e.image.url;return r.jsx("img",{className:d.embedImage,src:i,loading:"lazy",onClick:()=>{_.push({type:"image_viewer",attachment:e.image})}})}else if(e.thumbnail){const i=e.thumbnail.url;return r.jsx("img",{className:a?d.embedThumbnail:d.embedImage,src:i,loading:"lazy",style:{height:o,width:t},onClick:()=>{_.push({type:"image_viewer",attachment:e.thumbnail})}})}}return null}export{J as E,d as s};
//# sourceMappingURL=C_IanuoVv0YtArqcvBTR.js.map
